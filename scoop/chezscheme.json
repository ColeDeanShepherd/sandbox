{
    "version": "9.5.8",
    "description": "Implementation of the Chez Scheme language",
    "homepage": "https://cisco.github.io/ChezScheme/",
    "##": "Scoop requires a URL to be specified, so we specify the Git repo URL to silence errors.",
    "url": "https://github.com/cisco/ChezScheme.git",
    "license": "Apache-2.0",
    "depends": ["msys2", "git"],
    "installer": {
        "script": [
            "$ver = '9.5.8'",
            "$verWithPrefix = \"v$ver\"",
            "$dir = \"$dir\".Replace('\\', '/')",

            "cd $dir",
            "git clone --depth 1 --branch $verWithPrefix https://github.com/cisco/ChezScheme.git",

            "mingw64 -c \"pacman --noconfirm -Syu\"",
            "mingw64 -c \"pacman --noconfirm -S make mingw-w64-x86_64-gcc\"",

            "mingw64 -c \"cd $dir/ChezScheme && git config core.autocrlf false && ./configure --threads && make\""
        ]
    },
    "env_add_path": "./ChezScheme/ta6nt/bin/ta6nt"
}